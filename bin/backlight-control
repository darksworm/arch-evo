#!/usr/bin/env bash
# Backlight control with dunstify OSD feedback
# Usage: backlight-control {up|down}
set -euo pipefail

case "${1:-}" in
    up)
        brightnessctl set +5%
        ;;
    down)
        brightnessctl set 5%-
        ;;
    *)
        echo "Usage: backlight-control {up|down}"
        exit 1
        ;;
esac

brightness=$(brightnessctl -m | cut -d, -f4 | tr -d '%')
dunstify -a "brightness" -u low -h string:x-dunst-stack-tag:brightness \
    -h int:value:"$brightness" "ó°ƒŸ Brightness: ${brightness}%" -t 1500
